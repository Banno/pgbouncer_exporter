project_name: pgbouncer_exporter
release:
  github:
    owner: jbub
    name: pgbouncer_exporter
builds:
  - main: main.go
    binary: pgbouncer_exporter
    ldflags: -s -w -X main.Version={{.Version}} -X main.Commit={{.Commit}} -X main.Date={{.Date}} -extldflags '-static'
    flags: -a -tags netgo
    env:
      - CGO_ENABLED=0
    goos:
      - darwin
      - linux
      - windows
    goarch:
      - amd64
      - 386
archive:
  format: tar.gz
  format_overrides:
    - goos: windows
      format: zip
  name_template: '{{ .Binary }}_{{.Version}}_{{ .Os }}_{{ .Arch }}{{ if .Arm }}v{{.Arm }}{{ end }}'
  files:
    - LICENSE
    - README.md
    - CHANGELOG.md
snapshot:
  name_template: SNAPSHOT-{{ .Commit }}
release:
  draft: true